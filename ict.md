# 基于进出口贸易大数据的分析与应用系统

## 一、作品简介

### 1.1 项目背景

在全球经济一体化与数字化转型的浪潮下，进出口贸易数据已成为衡量国家经济健康度、指导企业战略决策以及辅助政府宏观调控的核心资产。然而，当前贸易数据面临着“体量大、维度多、非结构化数据难以利用”的挑战。

1. **数据价值挖掘不足**：传统的统计报表难以从海量历史数据中挖掘深层次的关联规则与价格波动趋势，无法有效指导未来的贸易活动。
2. **监管与决策滞后**：面对复杂的国际贸易形势，仅靠人工审核与经验判断，难以应对海关监管中的伪报瞒报风险，政府决策也缺乏实时的微观数据支撑。
3. **技术与业务割裂**：现有的系统多侧重于流程管理，缺乏集图像识别（商品归类）、价格预测（趋势分析）与大语言模型（智能问卷）于一体的综合性智能化分析平台。

本项目基于华为全栈国产化数字底座，构建进出口贸易大数据分析与应用系统，旨在通过深度学习与大数据技术，打通数据从“采集”到“智慧应用”的全链路，实现贸易数据的资产化与智能化。

### 1.2 应用场景

#### 场景1：海关监管与风险预警

针对海关一线监管痛点，利用系统内置的价格预测模型与图像识别技术，辅助关员快速核查报关单。当申报价格严重偏离预测区间的正常值，或申报品名与图像识别结果（基于章节层级）不符时，系统自动触发风险预警，有效打击低报价格逃税与伪报品名走私行为。

#### 场景2：政府宏观决策支持



#### 场景3：进出口企业定价决策



#### 场景4：贸易会



#### 场景5： 智慧展示大屏





### 1.3 核心功能





## 二、创新性

### 2.1 算法创新

#### 2.1.1 商品单价预测

自行构建self-attention 框架，



#### 2.1.2  图像识别

使用Resnet50进行模型微调，中国海关商品编码大类名称共22类，章节名称共98章，商品共13706种，选择具体商品一一对应识别容易导致识别准确率不高，选择大类识别会出该类商品分布差距较大，最终返回数据与其中一个商品差距较大，效果欠佳，因此我们选择章节名称进行图像识别。



### 2.2 集成AI大模型

在前端页面集成AI大模型，允许用户对前端展示的图片进行AI分析



### 2.3 应用场景创新





## 三、数据集来源与处理

数据集提供方：华为提供脱敏处理后的海关进出口数据，共20张表，2012-2021年的10年进口数据和10年出口数据



### 3.1针对进口数据：

数据集处理：

1.针对贸易国家

* 删除非国家实体，如["澳门", "香港", "台澎金马关税区", "中国香港", "中国澳门", "中国台湾"]这是中国领土,不是独立主权国家
* 删除海外领地/属地，如["荷属安地列斯", "开曼群岛","塞卜泰(休达)","诺福克岛"]等等，这是属地，不是独立主权国家
* 删除地区分类/统计类别，如 ["拉丁美洲其他国家(地区)", "非洲其他国家(地区)", "亚洲其他国家(地区)","欧洲其他国家(地区)", "大洋洲其他国家(地区)", "北美洲其他国家(地区)"]，这是贸易统计中的分类标签,非具体国家或地区
* 删除特殊标记/无效数据，如 ["国(地)别不详", "中性包装原产国别", "联合国及机构和国际组织"]
* 将更名过的国家的名称统一，去除有主权争议的国家。

代码部分：

~~~python
df = pd.read_csv(data, encoding='utf-8')
# 筛选出贸易国家在非国家实体列表中的数据
filtered_df = df[~df['贸易国家'].isin(non_country_entities)]
filtered_df.to_csv(output_file, index=False, encoding='utf-8')
# =========== non_country_entities为实际筛选出来的不符合的贸易国家名称列表===========
~~~

2.针对贸易方式

* 删除过于笼统或无法归类的项，如["其他"],不是具体的贸易方式。

* 删除反映货物在特殊监管区域内状态的项，如["海关特殊监管区域进口设备",`"境外设备进区","加工贸易进口设备"],这些描述的是货物进入海关特殊监管区域这一行为或货物的属性，其背后实际的贸易方式可能是“一般贸易”、“租赁贸易”或“投资进口”等。
* 删除以满足个人消费为目的的零售项，如["免税品"`,"免税外汇商品"]，这些是在特定场所（如机场、口岸、免税店）面向个人消费者的零售业务，通常不被视为主流的企业对企业货物贸易方式。
* 删除非商业性的单向转移，如["国家间”,”国际组织无偿援助和赠送的物资"`,"其他捐赠物资"],这些是无偿的、非商业性质的国际转移，没有买卖关系，因此不属于“贸易”范畴。
* 删除以资本投资为目的的货物进口，如["外商投资企业作为投资进口的设备、物品”],这是外国投资者作为资本投入的货物进口，其性质是投资行为而非商品交易。

代码部分：

~~~python
df = pd.read_csv(output_file, encoding='utf-8')
# 筛选出贸易方式在trade列表中的数据
filtered_df = df[~df['贸易方式'].isin(trade)]
# 覆盖保存筛选后的数据
filtered_df.to_csv(output_file, index=False, encoding='utf-8')
# =========== trade为实际筛选出来的不符合的贸易方式名称列表===========
~~~

3.针对商品编码

我国海关进出口商品共10位编码，货物编码共有6位数，前2位为章码、接下来2位为目码、最后2位为子目码，由于华为数据提供方只给了商品编码没有商品具体映射且绝大部分为8位编码，因此在实际映射表中我们选取前八位进行映射，将不是8位编码的商品删除，将映射不存在的商品删除。

代码部分：

~~~python
# ==================增加数据单价、商品名称、大类名称、章节名称==================
hs_code_file_path = 'train/data/HScode.xlsx'
output_file = "train/data/import_total_data.csv"
hs_data = pd.read_excel(hs_code_file_path,skiprows=[1], usecols=['code', 'name', 'categories_name', 'chapter_name'])

hs_data['商品编码'] = hs_data['code'].astype(str).str[:8]
# 只保留output_file中能够匹配到的商品编码
df = pd.read_csv(output_file, encoding='utf-8')
print("贸易记录数量:", len(df))
df = df[df['商品编码'].astype(str).isin(hs_data['商品编码'])]
# 有多少种商品编码
print("匹配到的商品编码种类数量:", len(set(df['商品编码'].unique())))
# 贸易记录数量
print("贸易记录数量:", len(df))
df.to_csv(output_file, index=False, encoding='utf-8')
~~~

4.针对省份

将细微差别的名称进行统一

代码部分

~~~python
# 将新疆维吾尔族自治区替换为新疆维吾尔自治区
df = pd.read_csv(output_file, encoding='utf-8')
df['商品注册地'] = df['商品注册地'].replace('新疆维吾尔族自治区', '新疆维吾尔自治区')
# 保存替换后的数据
df.to_csv(output_file, index=False, encoding='utf-8')
~~~

5.针对贸易额

去除贸易额非正数的记录

代码部分：

~~~python
# 贸易数量为非正值的数据
df = pd.read_csv(output_file, encoding='utf-8')
non_positive_quantity = df[df['贸易数量'] <= 0]
if not non_positive_quantity.empty:
    print("存在贸易数量为非正值的数据:")
    print(non_positive_quantity)
# 得到新的数据并保存 
df = df[df['贸易数量'] > 0]
df.to_csv(output_file, index=False, encoding='utf-8')
~~~

6.针对单位

去除*单位位为nan或'-'或空格的记录*

代码部分

~~~python
# ===================单位处理=================
# 单位位为nan或'-'或空格的记录
df = pd.read_csv(output_file, encoding='utf-8')
invalid_units = df[df['单位'].isnull() | (df['单位'].astype(str).str.strip() == "") | (df['单位'].astype(str).str.strip() == "-")]
if not invalid_units.empty:
    print("存在单位为空或无效的数据:")
    print(invalid_units)
# 得到新的数据并保存
df = df[~(df['单位'].isnull() | (df['单位'].astype(str).str.strip() == "") | (df['单位'].astype(str).str.strip() == "-"))]
df.to_csv(output_file, index=False, encoding='utf-8')
~~~



### 3.2 针对出口数据

后续将继续补充该部分文档



## 四、技术架构





* 交互层：
  * 用户层：HTML, CSS, JavaScript
  * 业务层：Python、flask
* AI计算与加速层：
  * 训练/推理平台：ModelArts
  * 深度学习框架： Mindspore
  * 硬件算力 (NPU)：Ascend Snt9
  * 计算架构：CANN

* 数据基础设施层：
  * 部署策略：华为云ECS部署
  * 服务器架构：华为鲲鹏 (Kunpeng)
  * 操作系统：openEuler
  * 数据库：openGauss 
  * 本地数据中转：华为云 OBS




## 五、关键代码解读



## 六、指标反映



## 七、应用部署

docker

## 八、 端侧部署

使用华为Atlas 200 DK

